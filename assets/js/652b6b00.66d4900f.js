"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[776],{8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>c});var n=i(6540);const t={},d=n.createContext(t);function r(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(d.Provider,{value:s},e.children)}},8729:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"employ\xe9/site-web/catego/db","title":"Documentation de la Base de Donn\xe9es","description":"Cette section d\xe9crit le sch\xe9ma de la base de donn\xe9es SQLite pour Cat\xe9GO (QuizMaster).","source":"@site/docs/employ\xe9/site-web/catego/db.md","sourceDirName":"employ\xe9/site-web/catego","slug":"/employ\xe9/site-web/catego/db","permalink":"/documentation/docs/employ\xe9/site-web/catego/db","draft":false,"unlisted":false,"editUrl":"https://github.com/groupe-ouellet/documentation/tree/main/documentation/docs/employ\xe9/site-web/catego/db.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"Base de donn\xe9es"}}');var t=i(4848),d=i(8453);const r={sidebar_label:"Base de donn\xe9es"},c="Documentation de la Base de Donn\xe9es",l={},a=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Tables",id:"tables",level:2},{value:"Quiz",id:"quiz",level:3},{value:"Card",id:"card",level:3},{value:"Category",id:"category",level:3},{value:"Submission",id:"submission",level:3},{value:"Relations",id:"relations",level:2},{value:"Requ\xeates utiles",id:"requ\xeates-utiles",level:2},{value:"R\xe9cup\xe9rer un quiz avec ses cartes et cat\xe9gories",id:"r\xe9cup\xe9rer-un-quiz-avec-ses-cartes-et-cat\xe9gories",level:3},{value:"R\xe9cup\xe9rer les soumissions en attente",id:"r\xe9cup\xe9rer-les-soumissions-en-attente",level:3},{value:"Statistiques par quiz",id:"statistiques-par-quiz",level:3},{value:"Initialisation",id:"initialisation",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"documentation-de-la-base-de-donn\xe9es",children:"Documentation de la Base de Donn\xe9es"})}),"\n",(0,t.jsx)(s.p,{children:"Cette section d\xe9crit le sch\xe9ma de la base de donn\xe9es SQLite pour Cat\xe9GO (QuizMaster)."}),"\n",(0,t.jsx)(s.h2,{id:"vue-densemble",children:"Vue d'ensemble"}),"\n",(0,t.jsx)(s.p,{children:"La base de donn\xe9es utilise SQLite et contient 4 tables principales pour g\xe9rer les quiz, les cartes, les cat\xe9gories et les soumissions des utilisateurs."}),"\n",(0,t.jsx)(s.h2,{id:"tables",children:"Tables"}),"\n",(0,t.jsx)(s.h3,{id:"quiz",children:"Quiz"}),"\n",(0,t.jsx)(s.p,{children:"Stocke les informations sur les quiz disponibles."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Champ"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant unique du quiz (cl\xe9 primaire)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"name"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Nom du quiz"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"description"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Description du quiz"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"isActive"}),(0,t.jsx)(s.td,{children:"BOOLEAN"}),(0,t.jsx)(s.td,{children:"Statut du quiz (1 = actif, 0 = inactif)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"created_at"}),(0,t.jsx)(s.td,{children:"DATETIME"}),(0,t.jsx)(s.td,{children:"Date de cr\xe9ation (d\xe9faut: CURRENT_TIMESTAMP)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de donn\xe9es :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"INSERT INTO quiz (name, description, isActive) VALUES \r\n('Quiz Fruits et L\xe9gumes', 'Associez chaque aliment \xe0 sa cat\xe9gorie correcte.', 1),\r\n('Quiz Animaux', 'Classifiez les animaux selon leur habitat naturel.', 1);\n"})}),"\n",(0,t.jsx)(s.h3,{id:"card",children:"Card"}),"\n",(0,t.jsx)(s.p,{children:"Stocke les cartes (\xe9l\xe9ments) de chaque quiz."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Champ"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant unique de la carte (cl\xe9 primaire)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"text_description"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Description textuelle de la carte"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"quiz_id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant du quiz (cl\xe9 \xe9trang\xe8re)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"created_at"}),(0,t.jsx)(s.td,{children:"DATETIME"}),(0,t.jsx)(s.td,{children:"Date de cr\xe9ation (d\xe9faut: CURRENT_TIMESTAMP)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Contraintes :"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"FOREIGN KEY (quiz_id) REFERENCES quiz (id) ON DELETE CASCADE"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de donn\xe9es :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"INSERT INTO card (text_description, quiz_id) VALUES \r\n('Orange', 1),\r\n('Tomate', 1),\r\n('Pomme', 1),\r\n('Carotte', 1);\n"})}),"\n",(0,t.jsx)(s.h3,{id:"category",children:"Category"}),"\n",(0,t.jsx)(s.p,{children:"Stocke les cat\xe9gories disponibles pour chaque quiz."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Champ"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant unique de la cat\xe9gorie (cl\xe9 primaire)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"name"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Nom de la cat\xe9gorie"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"quiz_id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant du quiz (cl\xe9 \xe9trang\xe8re)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"created_at"}),(0,t.jsx)(s.td,{children:"DATETIME"}),(0,t.jsx)(s.td,{children:"Date de cr\xe9ation (d\xe9faut: CURRENT_TIMESTAMP)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Contraintes :"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"FOREIGN KEY (quiz_id) REFERENCES quiz (id) ON DELETE CASCADE"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de donn\xe9es :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"INSERT INTO category (name, quiz_id) VALUES \r\n('Fruit', 1),\r\n('L\xe9gume', 1),\r\n('Terrestres', 2),\r\n('Aquatiques', 2);\n"})}),"\n",(0,t.jsx)(s.h3,{id:"submission",children:"Submission"}),"\n",(0,t.jsx)(s.p,{children:"Stocke les soumissions des utilisateurs."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Champ"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant unique de la soumission (cl\xe9 primaire)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"user_name"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Nom de l'utilisateur"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"card_id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant de la carte (cl\xe9 \xe9trang\xe8re)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"category_id"}),(0,t.jsx)(s.td,{children:"INTEGER"}),(0,t.jsx)(s.td,{children:"Identifiant de la cat\xe9gorie (cl\xe9 \xe9trang\xe8re)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"timestamp"}),(0,t.jsx)(s.td,{children:"DATETIME"}),(0,t.jsx)(s.td,{children:"Date de soumission (d\xe9faut: CURRENT_TIMESTAMP)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"status"}),(0,t.jsx)(s.td,{children:"TEXT"}),(0,t.jsx)(s.td,{children:"Statut de la soumission (pending/approved/rejected)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Contraintes :"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"FOREIGN KEY (card_id) REFERENCES card (id) ON DELETE CASCADE"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"FOREIGN KEY (category_id) REFERENCES category (id) ON DELETE CASCADE"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"CHECK (status IN ('pending', 'approved', 'rejected'))"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Exemple de donn\xe9es :"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"INSERT INTO submission (user_name, card_id, category_id, status) VALUES \r\n('John Doe', 1, 1, 'pending'),\r\n('Jane Smith', 2, 2, 'approved');\n"})}),"\n",(0,t.jsx)(s.h2,{id:"relations",children:"Relations"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Quiz (1) \u2190\u2192 (N) Card\r\nQuiz (1) \u2190\u2192 (N) Category\r\nCard (1) \u2190\u2192 (N) Submission\r\nCategory (1) \u2190\u2192 (N) Submission\n"})}),"\n",(0,t.jsx)(s.h2,{id:"requ\xeates-utiles",children:"Requ\xeates utiles"}),"\n",(0,t.jsx)(s.h3,{id:"r\xe9cup\xe9rer-un-quiz-avec-ses-cartes-et-cat\xe9gories",children:"R\xe9cup\xe9rer un quiz avec ses cartes et cat\xe9gories"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT \r\n  q.*,\r\n  c.id as card_id,\r\n  c.text_description,\r\n  cat.id as category_id,\r\n  cat.name as category_name\r\nFROM quiz q\r\nLEFT JOIN card c ON q.id = c.quiz_id\r\nLEFT JOIN category cat ON q.id = cat.quiz_id\r\nWHERE q.id = ?\n"})}),"\n",(0,t.jsx)(s.h3,{id:"r\xe9cup\xe9rer-les-soumissions-en-attente",children:"R\xe9cup\xe9rer les soumissions en attente"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT \r\n  s.id,\r\n  s.user_name,\r\n  s.timestamp,\r\n  s.status,\r\n  c.text_description as card_description,\r\n  cat.name as category_name\r\nFROM submission s\r\nJOIN card c ON s.card_id = c.id\r\nJOIN category cat ON s.category_id = cat.id\r\nWHERE s.status = 'pending'\r\nORDER BY cat.name, s.timestamp ASC\n"})}),"\n",(0,t.jsx)(s.h3,{id:"statistiques-par-quiz",children:"Statistiques par quiz"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT \r\n  q.name as quiz_name,\r\n  COUNT(DISTINCT c.id) as total_cards,\r\n  COUNT(DISTINCT cat.id) as total_categories,\r\n  COUNT(s.id) as total_submissions,\r\n  COUNT(CASE WHEN s.status = 'approved' THEN 1 END) as approved_submissions\r\nFROM quiz q\r\nLEFT JOIN card c ON q.id = c.quiz_id\r\nLEFT JOIN category cat ON q.id = cat.quiz_id\r\nLEFT JOIN submission s ON c.id = s.card_id\r\nGROUP BY q.id, q.name\n"})}),"\n",(0,t.jsx)(s.h2,{id:"initialisation",children:"Initialisation"}),"\n",(0,t.jsxs)(s.p,{children:["La base de donn\xe9es est automatiquement initialis\xe9e avec des donn\xe9es d'exemple lors du premier d\xe9marrage de l'application. Le fichier ",(0,t.jsx)(s.code,{children:"database.js"})," contient la logique d'initialisation et d'insertion des donn\xe9es de test."]})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);